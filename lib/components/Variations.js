'use client';

import DynamicVariationInput from './DynamicVariationInput';
import { useFieldArray } from 'react-hook-form';
import { useMerchiFormContext } from './MerchiProductFormProvider';
import { jsx as _jsx } from "react/jsx-runtime";
import { Fragment as _Fragment } from "react/jsx-runtime";
function Variations(_ref) {
  var containerClass = _ref.containerClass,
    disabled = _ref.disabled,
    _ref$name = _ref.name,
    name = _ref$name === void 0 ? 'variations' : _ref$name,
    _ref$keyName = _ref.keyName,
    keyName = _ref$keyName === void 0 ? 'variationArrayFieldId' : _ref$keyName;
  var _useMerchiFormContext = useMerchiFormContext(),
    control = _useMerchiFormContext.control;
  var _useFieldArray = useFieldArray({
      control: control,
      keyName: keyName,
      name: name
    }),
    fields = _useFieldArray.fields;
  return /*#__PURE__*/_jsx(_Fragment, {
    children: fields.map(function (variation, index) {
      return /*#__PURE__*/_jsx("fieldset", {
        className: containerClass,
        name: "".concat(name, "[").concat(index, "]"),
        children: /*#__PURE__*/_jsx(DynamicVariationInput, {
          disabled: disabled,
          index: index,
          name: name,
          variation: variation
        })
      }, variation[keyName]);
    })
  });
}
export default Variations;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEeW5hbWljVmFyaWF0aW9uSW5wdXQiLCJ1c2VGaWVsZEFycmF5IiwidXNlTWVyY2hpRm9ybUNvbnRleHQiLCJqc3giLCJfanN4IiwiRnJhZ21lbnQiLCJfRnJhZ21lbnQiLCJWYXJpYXRpb25zIiwiX3JlZiIsImNvbnRhaW5lckNsYXNzIiwiZGlzYWJsZWQiLCJfcmVmJG5hbWUiLCJuYW1lIiwiX3JlZiRrZXlOYW1lIiwia2V5TmFtZSIsIl91c2VNZXJjaGlGb3JtQ29udGV4dCIsImNvbnRyb2wiLCJfdXNlRmllbGRBcnJheSIsImZpZWxkcyIsImNoaWxkcmVuIiwibWFwIiwidmFyaWF0aW9uIiwiaW5kZXgiLCJjbGFzc05hbWUiLCJjb25jYXQiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvY29tcG9uZW50cy9WYXJpYXRpb25zLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgRHluYW1pY1ZhcmlhdGlvbklucHV0IGZyb20gJy4vRHluYW1pY1ZhcmlhdGlvbklucHV0JztcbmltcG9ydCB7IHVzZUZpZWxkQXJyYXkgfSBmcm9tICdyZWFjdC1ob29rLWZvcm0nO1xuaW1wb3J0IHsgdXNlTWVyY2hpRm9ybUNvbnRleHQgfSBmcm9tICcuL01lcmNoaVByb2R1Y3RGb3JtUHJvdmlkZXInO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBjb250YWluZXJDbGFzcz86IHN0cmluZztcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICBuYW1lPzogc3RyaW5nO1xuICBrZXlOYW1lPzogc3RyaW5nO1xufVxuXG5mdW5jdGlvbiBWYXJpYXRpb25zKHtcbiAgY29udGFpbmVyQ2xhc3MsXG4gIGRpc2FibGVkLFxuICBuYW1lID0gJ3ZhcmlhdGlvbnMnLFxuICBrZXlOYW1lID0gJ3ZhcmlhdGlvbkFycmF5RmllbGRJZCcsXG59OiBQcm9wcykge1xuICBjb25zdCB7IGNvbnRyb2wgfSA9IHVzZU1lcmNoaUZvcm1Db250ZXh0KCk7XG4gIGNvbnN0IHsgZmllbGRzIH0gPSB1c2VGaWVsZEFycmF5KFxuICAgIHtcbiAgICAgIGNvbnRyb2wsXG4gICAgICBrZXlOYW1lLFxuICAgICAgbmFtZSxcbiAgICB9XG4gICk7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHtmaWVsZHMubWFwKCh2YXJpYXRpb246IGFueSwgaW5kZXg6IG51bWJlcikgPT5cbiAgICAgICAgPGZpZWxkc2V0XG4gICAgICAgICAgY2xhc3NOYW1lPXtjb250YWluZXJDbGFzc31cbiAgICAgICAgICBrZXk9e3ZhcmlhdGlvbltrZXlOYW1lXX1cbiAgICAgICAgICBuYW1lPXtgJHtuYW1lfVske2luZGV4fV1gfVxuICAgICAgICA+XG4gICAgICAgICAgPER5bmFtaWNWYXJpYXRpb25JbnB1dFxuICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgIHZhcmlhdGlvbj17dmFyaWF0aW9ufVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICApfVxuICAgIDwvPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBWYXJpYXRpb25zO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUNaLE9BQU9BLHFCQUFxQixNQUFNLHlCQUF5QjtBQUMzRCxTQUFTQyxhQUFhLFFBQVEsaUJBQWlCO0FBQy9DLFNBQVNDLG9CQUFvQixRQUFRLDZCQUE2QjtBQUFDLFNBQUFDLEdBQUEsSUFBQUMsSUFBQTtBQUFBLFNBQUFDLFFBQUEsSUFBQUMsU0FBQTtBQVNuRSxTQUFTQyxVQUFVQSxDQUFBQyxJQUFBLEVBS1Q7RUFBQSxJQUpSQyxjQUFjLEdBQUFELElBQUEsQ0FBZEMsY0FBYztJQUNkQyxRQUFRLEdBQUFGLElBQUEsQ0FBUkUsUUFBUTtJQUFBQyxTQUFBLEdBQUFILElBQUEsQ0FDUkksSUFBSTtJQUFKQSxJQUFJLEdBQUFELFNBQUEsY0FBRyxZQUFZLEdBQUFBLFNBQUE7SUFBQUUsWUFBQSxHQUFBTCxJQUFBLENBQ25CTSxPQUFPO0lBQVBBLE9BQU8sR0FBQUQsWUFBQSxjQUFHLHVCQUF1QixHQUFBQSxZQUFBO0VBRWpDLElBQUFFLHFCQUFBLEdBQW9CYixvQkFBb0IsQ0FBQyxDQUFDO0lBQWxDYyxPQUFPLEdBQUFELHFCQUFBLENBQVBDLE9BQU87RUFDZixJQUFBQyxjQUFBLEdBQW1CaEIsYUFBYSxDQUM5QjtNQUNFZSxPQUFPLEVBQVBBLE9BQU87TUFDUEYsT0FBTyxFQUFQQSxPQUFPO01BQ1BGLElBQUksRUFBSkE7SUFDRixDQUNGLENBQUM7SUFOT00sTUFBTSxHQUFBRCxjQUFBLENBQU5DLE1BQU07RUFPZCxvQkFDRWQsSUFBQSxDQUFBRSxTQUFBO0lBQUFhLFFBQUEsRUFDR0QsTUFBTSxDQUFDRSxHQUFHLENBQUMsVUFBQ0MsU0FBYyxFQUFFQyxLQUFhO01BQUEsb0JBQ3hDbEIsSUFBQTtRQUNFbUIsU0FBUyxFQUFFZCxjQUFlO1FBRTFCRyxJQUFJLEtBQUFZLE1BQUEsQ0FBS1osSUFBSSxPQUFBWSxNQUFBLENBQUlGLEtBQUssTUFBSTtRQUFBSCxRQUFBLGVBRTFCZixJQUFBLENBQUNKLHFCQUFxQjtVQUNwQlUsUUFBUSxFQUFFQSxRQUFTO1VBQ25CWSxLQUFLLEVBQUVBLEtBQU07VUFDYlYsSUFBSSxFQUFFQSxJQUFLO1VBQ1hTLFNBQVMsRUFBRUE7UUFBVSxDQUN0QjtNQUFDLEdBUkdBLFNBQVMsQ0FBQ1AsT0FBTyxDQVNkLENBQUM7SUFBQSxDQUNiO0VBQUMsQ0FDRCxDQUFDO0FBRVA7QUFFQSxlQUFlUCxVQUFVIn0=