import * as React from 'react';
import { currencyTotalCostShowIncTax } from './currency';
import { CgSpinner } from 'react-icons/cg';
import { useMerchiFormContext } from './MerchiProductFormProvider';
import { isProductSupplierMOD } from './utils';
import { jsx as _jsx } from "react/jsx-runtime";
import { jsxs as _jsxs } from "react/jsx-runtime";
import { Fragment as _Fragment } from "react/jsx-runtime";
function ProductTotalCost() {
  var _useMerchiFormContext = useMerchiFormContext(),
    classNameProductTotal = _useMerchiFormContext.classNameProductTotal,
    classNameProductTotalContainer = _useMerchiFormContext.classNameProductTotalContainer,
    _useMerchiFormContext2 = _useMerchiFormContext.isCartItem,
    isCartItem = _useMerchiFormContext2 === void 0 ? false : _useMerchiFormContext2,
    job = _useMerchiFormContext.job,
    loading = _useMerchiFormContext.loading,
    product = _useMerchiFormContext.product;
  var isSupplierMOD = isProductSupplierMOD(product);
  var needsShipping = Boolean(job && job.needsShipping);
  function Cost(_ref) {
    var cost = _ref.cost,
      showShipping = _ref.showShipping;
    return /*#__PURE__*/_jsxs(_Fragment, {
      children: [/*#__PURE__*/_jsx("strong", {
        className: "mb-0",
        children: "Total"
      }), loading ? /*#__PURE__*/_jsx("div", {
        style: {
          height: '52px'
        },
        children: /*#__PURE__*/_jsx(CgSpinner, {
          fontSize: "1.25rem",
          className: "animate_spin ml-1"
        })
      }) : cost !== null && cost !== undefined ? /*#__PURE__*/_jsxs("div", {
        style: {
          display: 'flex',
          flexDirection: 'column',
          height: '52px'
        },
        children: [/*#__PURE__*/_jsx("strong", {
          children: currencyTotalCostShowIncTax(job)
        }), isSupplierMOD && /*#__PURE__*/_jsx("small", {
          children: "approximate"
        }), Boolean(!loading && showShipping) && /*#__PURE__*/_jsx("small", {
          children: "+ shipping"
        })]
      }) : null]
    });
  }
  return /*#__PURE__*/_jsxs("div", {
    className: classNameProductTotalContainer,
    children: [/*#__PURE__*/_jsx("div", {
      style: {
        width: '100%',
        borderBottom: '1px solid #fff',
        borderTop: '1px solid rgb(227, 228, 247)',
        height: 0
      }
    }), /*#__PURE__*/_jsx("div", {
      className: classNameProductTotal,
      style: {
        flex: '1 1 auto',
        textAlign: 'right'
      },
      children: isCartItem ? /*#__PURE__*/_jsx(Cost, {
        cost: job.totalCost
      }) : /*#__PURE__*/_jsx(Cost, {
        cost: job.totalCost,
        showShipping: needsShipping
      })
    })]
  });
}
export default ProductTotalCost;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsImN1cnJlbmN5VG90YWxDb3N0U2hvd0luY1RheCIsIkNnU3Bpbm5lciIsInVzZU1lcmNoaUZvcm1Db250ZXh0IiwiaXNQcm9kdWN0U3VwcGxpZXJNT0QiLCJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiRnJhZ21lbnQiLCJfRnJhZ21lbnQiLCJQcm9kdWN0VG90YWxDb3N0IiwiX3VzZU1lcmNoaUZvcm1Db250ZXh0IiwiY2xhc3NOYW1lUHJvZHVjdFRvdGFsIiwiY2xhc3NOYW1lUHJvZHVjdFRvdGFsQ29udGFpbmVyIiwiX3VzZU1lcmNoaUZvcm1Db250ZXh0MiIsImlzQ2FydEl0ZW0iLCJqb2IiLCJsb2FkaW5nIiwicHJvZHVjdCIsImlzU3VwcGxpZXJNT0QiLCJuZWVkc1NoaXBwaW5nIiwiQm9vbGVhbiIsIkNvc3QiLCJfcmVmIiwiY29zdCIsInNob3dTaGlwcGluZyIsImNoaWxkcmVuIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJoZWlnaHQiLCJmb250U2l6ZSIsInVuZGVmaW5lZCIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwid2lkdGgiLCJib3JkZXJCb3R0b20iLCJib3JkZXJUb3AiLCJmbGV4IiwidGV4dEFsaWduIiwidG90YWxDb3N0Il0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbXBvbmVudHMvUHJvZHVjdFRvdGFsQ29zdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3VycmVuY3lUb3RhbENvc3RTaG93SW5jVGF4IH0gZnJvbSAnLi9jdXJyZW5jeSc7XG5pbXBvcnQgeyBDZ1NwaW5uZXIgfSBmcm9tICdyZWFjdC1pY29ucy9jZyc7XG5pbXBvcnQgeyB1c2VNZXJjaGlGb3JtQ29udGV4dCB9IGZyb20gJy4vTWVyY2hpUHJvZHVjdEZvcm1Qcm92aWRlcic7XG5pbXBvcnQgeyBpc1Byb2R1Y3RTdXBwbGllck1PRCB9IGZyb20gJy4vdXRpbHMnO1xuXG5mdW5jdGlvbiBQcm9kdWN0VG90YWxDb3N0KCkge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lUHJvZHVjdFRvdGFsLFxuICAgIGNsYXNzTmFtZVByb2R1Y3RUb3RhbENvbnRhaW5lcixcbiAgICBpc0NhcnRJdGVtID0gZmFsc2UsXG4gICAgam9iLFxuICAgIGxvYWRpbmcsXG4gICAgcHJvZHVjdCxcbiAgfSA9IHVzZU1lcmNoaUZvcm1Db250ZXh0KCk7XG4gIGNvbnN0IGlzU3VwcGxpZXJNT0QgPSBpc1Byb2R1Y3RTdXBwbGllck1PRChwcm9kdWN0KTtcbiAgY29uc3QgbmVlZHNTaGlwcGluZyA9IEJvb2xlYW4oam9iICYmIGpvYi5uZWVkc1NoaXBwaW5nKTtcblxuICBmdW5jdGlvbiBDb3N0KHsgY29zdCwgc2hvd1NoaXBwaW5nIH06IGFueSkge1xuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICA8c3Ryb25nIGNsYXNzTmFtZT0nbWItMCc+VG90YWw8L3N0cm9uZz5cbiAgICAgICAge2xvYWRpbmcgPyAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBoZWlnaHQ6ICc1MnB4JyB9fT5cbiAgICAgICAgICAgIDxDZ1NwaW5uZXIgZm9udFNpemU9JzEuMjVyZW0nIGNsYXNzTmFtZT0nYW5pbWF0ZV9zcGluIG1sLTEnIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBjb3N0ICE9PSBudWxsICYmIGNvc3QgIT09IHVuZGVmaW5lZCA/IChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBoZWlnaHQ6ICc1MnB4JyB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdHJvbmc+e2N1cnJlbmN5VG90YWxDb3N0U2hvd0luY1RheChqb2IpfTwvc3Ryb25nPlxuICAgICAgICAgICAge2lzU3VwcGxpZXJNT0QgJiYgPHNtYWxsPmFwcHJveGltYXRlPC9zbWFsbD59XG4gICAgICAgICAgICB7Qm9vbGVhbighbG9hZGluZyAmJiBzaG93U2hpcHBpbmcpICYmIDxzbWFsbD4rIHNoaXBwaW5nPC9zbWFsbD59XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC8+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZVByb2R1Y3RUb3RhbENvbnRhaW5lcn0+XG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgI2ZmZicsXG4gICAgICAgICAgYm9yZGVyVG9wOiAnMXB4IHNvbGlkIHJnYigyMjcsIDIyOCwgMjQ3KScsXG4gICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVQcm9kdWN0VG90YWx9XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZmxleDogJzEgMSBhdXRvJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdyaWdodCcsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHtpc0NhcnRJdGVtID8gKFxuICAgICAgICAgIDxDb3N0IGNvc3Q9e2pvYi50b3RhbENvc3R9IC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPENvc3QgY29zdD17am9iLnRvdGFsQ29zdH0gc2hvd1NoaXBwaW5nPXtuZWVkc1NoaXBwaW5nfSAvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3RUb3RhbENvc3Q7XG4iXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBS0EsS0FBSyxNQUFNLE9BQU87QUFDOUIsU0FBU0MsMkJBQTJCLFFBQVEsWUFBWTtBQUN4RCxTQUFTQyxTQUFTLFFBQVEsZ0JBQWdCO0FBQzFDLFNBQVNDLG9CQUFv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